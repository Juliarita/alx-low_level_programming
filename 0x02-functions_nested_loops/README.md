 functions for nested loops in LLP
